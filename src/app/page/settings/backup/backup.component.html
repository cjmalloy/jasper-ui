<form class="form" [formGroup]="originForm" (ngSubmit)="deleteOrigin()">
  <span></span>
  <h2>Clear Origin</h2>

  <label>Origin:</label>
  <input type="text" [pattern]="originPattern" formControlName="origin">

  <label>Older than:</label>
  <input type="datetime-local" step="1" formControlName="olderThan">

  <span><!-- Buttons --></span>
  <span class="form-array right">
    <button type="submit" [disabled]="submitted && !originForm.valid" i18n>Delete</button>
  </span>
</form>

<button *ngIf="store.account.sysAdmin"
        (click)="backup()"
        i18n-title
        title="Create Backup"
        class="backup" i18n>+ backup</button>

<button *ngIf="store.account.sysMod"
        (click)="backfill()"
        i18n-title
        title="Backfill Metadata"
        class="backfill" i18n>♻️ backfill</button>

<button *ngIf="!uploading"
        (click)="uploadFile.click()"
        i18n-title
        title="Upload Backup"
        class="upload" i18n>+ upload</button>
<app-loading *ngIf="uploading"></app-loading>
<input #uploadFile
       type="file"
       class="upload"
       (change)="upload(uploadFile?.files!)">

<ng-container *ngFor="let e of serverError">
  <span><!-- Unexpected Error --></span>
  <div class="error">{{ e }}</div>
</ng-container>

<app-backup-list [list]="list"></app-backup-list>
