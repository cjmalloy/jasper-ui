<div class="tabs">
  <div class="spacer"></div>
  <app-settings></app-settings>
</div>

<form *ngIf="editForm" class="form" [formGroup]="editForm" (ngSubmit)="save()">

  <label for="tag">Tag:</label>
  <input id="tag" type="text" formControlName="tag" [attr.disabled]="true">

  <label for="name">Name:</label>
  <input id="name" type="text" formControlName="name">

  <ng-container *ngIf="root">
    <label for="sidebar">Sidebar:</label>
    <div class="editor-preview">
      <textarea id="sidebar" [formControl]="sidebar"></textarea>
      <app-md [text]="sidebar.value"></app-md>
    </div>

    <label for="pinned">Pinned:</label>
    <app-links id="pinned"
               label="pinned link"
               [group]="config"
               fieldName="pinned"></app-links>

    <label for="themes">Custom Themes:</label>
    <app-themes id="themes"
                [group]="config"
                fieldName="themes"></app-themes>

    <label for="theme">Tag Page Theme:</label>
    <select id="theme" [formControl]="theme">
      <option [ngValue]="undefined">default</option>
      <option *ngFor="let t of themeValues" [ngValue]="t">{{ t }}</option>
    </select>
  </ng-container>

  <ng-container *ngIf="user">
    <label for="subscriptions">Subscriptions:</label>
    <app-queries id="subscriptions"
                 label="subscription"
                 [group]="config"
                 fieldName="subscriptions"></app-queries>

    <label for="bookmarks">Bookmarks:</label>
    <app-queries id="bookmarks"
                 label="bookmark"
                 [group]="config"
                 fieldName="bookmarks"></app-queries>

    <label for="userThemes">User Themes:</label>
    <app-themes id="userThemes"
                [group]="config"
                fieldName="userThemes"></app-themes>

    <label for="userTheme">Theme Override:</label>
    <select id="userTheme" [formControl]="userTheme">
      <option [ngValue]="undefined">default</option>
      <option *ngFor="let t of userThemeValues" [ngValue]="t">{{ t }}</option>
    </select>
  </ng-container>

  <ng-container *ngIf="queue">
    <label for="maxAge">Max Age:</label>
    <input type="text" id="maxAge" [formControl]="maxAge">

    <label for="bounty">Bounty:</label>
    <input type="text" id="bounty" [formControl]="bounty">

    <label for="approvers">Approvers:</label>
    <app-users id="approvers" [group]="config"
               label="approver"
               fieldName="approvers"></app-users>
  </ng-container>

  <ng-container *ngIf="kanban">
    <label for="columns">Columns:</label>
    <app-qtags id="columns" [group]="config"
               label="column"
               fieldName="columns"></app-qtags>

    <label for="swimLanes">Swim Lanes:</label>
    <app-qtags id="swimLanes" [group]="config"
               label="swim lane"
               fieldName="swimLanes"></app-qtags>
  </ng-container>

  <ng-container *ngFor="let e of serverError">
    <span><!-- Unexpected Error --></span>
    <div class="error">{{ e }}</div>
  </ng-container>

  <span><!-- Buttons --></span>
  <span class="form-array">
    <button type="submit" [disabled]="submitted && !editForm.valid">Save</button>
  </span>

</form>
