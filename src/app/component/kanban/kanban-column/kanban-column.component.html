<app-loading *ngIf="!pages else loaded"></app-loading>
<ng-template #loaded>
  <ng-container *ngFor="let page of pages">
    <app-kanban-card *ngFor="let ref of page.content"
                     cdkDrag
                     [cdkDragData]="ref"
                     [cdkDragDisabled]="dragDisabled"
                     (cdkDragStarted)="dragStarted($event)"
                     [ref]="ref"></app-kanban-card>
  </ng-container>
</ng-template>
<div class="spacer"></div>
<input type="text"
       i18n-placeholder
       placeholder="Add..."
       [(ngModel)]="addText"
       [style.display]="addText ? 'block' : 'none'"
       (keydown)="$event.key === 'Enter' && add() || true"
       (blur)="add()">
<a *ngIf="hasMore"
   class="fake-link"
   (click)="loadMore()" i18n>load more</a>
