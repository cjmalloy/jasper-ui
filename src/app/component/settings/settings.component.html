<ng-container *mobxAutorun>
  <ng-container *ngIf="!store.account.signedIn">
    <ng-container *ngIf="config.clientAuth">
      <a class="fake-link" (click)="oauth.initLoginFlow()">login</a>
      <span *ngIf="config.signup"> or </span>
    </ng-container>
    <ng-container *ngIf="!config.clientAuth && config.login">
      <a [href]="config.loginLink">login</a>
      <span *ngIf="config.signup"> or </span>
    </ng-container>
    <ng-container *ngIf="config.signup">
      <a [href]="config.signup">sign up</a>
    </ng-container>
    <span *ngIf="config.clientAuth || config.login || config.signup"> | </span>
    <a routerLink="/settings">settings</a>
  </ng-container>
  <ng-container *ngIf="store.account.signedIn">
    <a class="author"
       [title]="fullUserTagAndRole"
       [routerLink]="['/tag', store.account.tag]">{{ shortUserTag }}</a>
    <ng-container *ngIf="admin.status.plugins.inbox">
      <ng-container *ngIf="store.account.notifications as n; else noNotifications">
        | {{ n }} <a class="inbox notification" routerLink="/inbox/unread">ðŸ“§</a>
      </ng-container>
      <ng-template #noNotifications>
        | <a class="inbox" routerLink="/inbox">ðŸ“§</a>
      </ng-template>
    </ng-container>
    | <a routerLink="/settings">settings</a>
    <ng-container *ngIf="config.clientAuth">
      | <a class="fake-link" (click)="config.logOut()">logout</a>
    </ng-container>
    <ng-container *ngIf="!config.clientAuth && config.logout">
      | <a [href]="config.logout">logout</a>
    </ng-container>
  </ng-container>
</ng-container>
