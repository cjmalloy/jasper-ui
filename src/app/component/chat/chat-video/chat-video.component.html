<ng-container *mobxAutorun>
  @if (!store.video.enabled) {
    <div class="submit-button" (click)="call()" tabindex="0">
      <span i18n-title title="Start a Call" i18n>ğŸ“ï¸</span> <label i18n>call</label>
    </div>
  } @else {
    <div class="submit-button" (click)="hangup()" tabindex="0">
      <span i18n-title title="End a Call" i18n>ğŸ‘‹ï¸</span> <label i18n>hangup</label>
    </div>
    @for (u of userStreams; track u.tag) {
      <app-nav class="stream-label glass"
               [url]="'tag:/' + u.tag"></app-nav>
      @for (s of u.streams; track s.id) {
        <video [srcObject]="s"
               [class.loading]="!s.active"
               autoplay
               playsinline></video>
      } @empty {
        <div class="loading video-placeholder"></div>
      }
    } @empty {
      <app-loading></app-loading>
    }
    @if (store.video.stream) {
      <app-nav class="stream-label glass"
               [url]="'tag:/' + store.account.tag"></app-nav>
      <video [srcObject]="store.video.stream"
             class="mirror-video"
             autoplay
             playsinline
             [muted]="true"></video>
    }
    @for (tag of hungup; track tag) {
      <app-nav class="stream-label glass"
               [url]="'tag:/' + tag"></app-nav>
      <div class="hungup video-placeholder" i18n-title title="Hung up" i18n>ğŸ‘‹ï¸</div>
    }
  }
</ng-container>
