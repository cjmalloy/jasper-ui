import moment from 'moment';
import { Plugin } from '../model/plugin';
import { Mod } from '../model/tag';

export const summaryQueryPlugin: Plugin = {
  tag: 'plugin/summary',
  name: '‚úÇÔ∏èÔ∏èüí≠Ô∏è Summarize',
  config: {
    mod: $localize`‚úÇÔ∏è Summarize`,
    type: 'tool',
    default: false,
    add: true,
    signature: '+plugin/summary',
    generated: $localize`Generated by jasper-ui ${moment().toISOString()}`,
    description: $localize`Send this Ref to the ai to create a summary response.`,
    icons: [{ label: $localize`Ô∏èüí≠Ô∏è`, order: -3 }],
    filters: [
      { query: 'plugin/summary', label: $localize`‚úÇÔ∏èÔ∏èüí≠Ô∏è summarize`, group: $localize`Notifications ‚úâÔ∏è` },
    ],
    advancedActions: [
      { tag: 'plugin/summary', labelOff: $localize`summarize`, global: true }
    ],
  },
};

export const summaryPlugin: Plugin = {
  tag: '+plugin/summary',
  name: '‚úÇÔ∏èÔ∏è OpenAI Summary',
  config: {
    mod: $localize`‚úÇÔ∏è Summarize`,
    type: 'tool',
    default: false,
    signature: '+plugin/summary',
    generated: $localize`Generated by jasper-ui ${moment().toISOString()}`,
    description: $localize`AI signature tag. Plugin configures OpenAi to respond to 'plugin/summary' prompts
    and sign this response with this tag. Plugin data contains token usage stats.`,
    icons: [{ thumbnail: $localize`‚úÇÔ∏èÔ∏è`, order: 1 }],
    filters: [
      { query: '+plugin/summary', label: $localize`‚úÇÔ∏èÔ∏è summary`, group: $localize`Plugins üß∞Ô∏è` },
    ],
    titlePrefix: $localize`AI Summary: `,
    systemPrompt: $localize`Summarize the following:`,
    model: 'gpt-4-turbo-preview',
    maxTokens: 4096,
  },
  schema: {},
  generateMetadata: true,
};

export const summaryMod: Mod = {
  plugins: {
    summaryQueryPlugin,
    summaryPlugin,
  },
};
